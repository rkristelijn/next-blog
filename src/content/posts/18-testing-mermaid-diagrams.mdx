---
title: "Testing Mermaid Diagrams in Blog Posts"
date: "2024-08-24"
author: "Remi Kristelijn"
excerpt: "A test post to verify that Mermaid diagrams render correctly in our blog posts with proper theme support."
---

# Testing Mermaid Diagrams in Blog Posts

This post tests the Mermaid diagram functionality in our blog. Mermaid allows us to create diagrams and flowcharts using simple text syntax.

## Simple Flowchart

Here's a basic flowchart showing a decision process:

```mermaid
flowchart TD
    A[Start] --> B{Is it working?}
    B -->|Yes| C[Great!]
    B -->|No| D[Debug]
    D --> E[Fix Issue]
    E --> B
    C --> F[End]
```

**Code for this diagram:**
````markdown
```mermaid
flowchart TD
    A[Start] --> B{Is it working?}
    B -->|Yes| C[Great!]
    B -->|No| D[Debug]
    D --> E[Fix Issue]
    E --> B
    C --> F[End]
```
````

## Git Workflow Diagram

This diagram shows our new branch protection workflow:

```mermaid
gitGraph
    commit id: "Initial"
    commit id: "Feature 1"
    
    branch feature/new-feature
    checkout feature/new-feature
    commit id: "Work in progress"
    commit id: "Feature complete"
    
    checkout main
    commit id: "Hotfix"
    
    checkout feature/new-feature
    merge main
    commit id: "Merge main"
    
    checkout main
    merge feature/new-feature
    commit id: "Merge PR"
```

## Sequence Diagram

Here's how the fork management process works:

```mermaid
sequenceDiagram
    participant U as User
    participant F as Fork
    participant M as Main Repo
    participant CI as GitHub Actions
    
    U->>F: Create fork
    U->>F: Add personal content
    U->>F: Make improvements
    F->>M: Create pull request
    M->>CI: Run automated checks
    CI->>M: Validation results
    M->>M: Review and selective merge
    M->>F: Provide feedback
```

**Code for this diagram:**
````markdown
```mermaid
sequenceDiagram
    participant U as User
    participant F as Fork
    participant M as Main Repo
    participant CI as GitHub Actions
    
    U->>F: Create fork
    U->>F: Add personal content
    U->>F: Make improvements
    F->>M: Create pull request
    M->>CI: Run automated checks
    CI->>M: Validation results
    M->>M: Review and selective merge
    M->>F: Provide feedback
```
````

## Class Diagram

The architecture of our blog system:

```mermaid
classDiagram
    class Post {
        +string title
        +string date
        +string author
        +string excerpt
        +string content
        +string slug
        +getSlug()
        +validate()
    }
    
    class PostService {
        +getAllPosts()
        +getPostBySlug()
        +generatePostsData()
    }
    
    class MermaidComponent {
        +string chart
        +string id
        +render()
    }
    
    PostService --> Post
    Post --> MermaidComponent : uses
```

## Pie Chart

Distribution of our documentation types:

```mermaid
pie title Documentation Types
    "Technical Docs" : 40
    "User Guides" : 30
    "Troubleshooting" : 20
    "Examples" : 10
```

## State Diagram

The lifecycle of a blog post:

```mermaid
stateDiagram-v2
    [*] --> Draft
    Draft --> Review : Submit
    Review --> Published : Approve
    Review --> Draft : Needs Changes
    Published --> Archived : Archive
    Archived --> Published : Restore
    Published --> [*] : Delete
```

## Journey Map

User experience with our blog template:

```mermaid
journey
    title User Journey with Blog Template
    section Discovery
      Find template: 5: User
      Read documentation: 4: User
      Fork repository: 5: User
    section Setup
      Configure secrets: 3: User
      First deployment: 2: User
      Troubleshoot issues: 1: User
      Get help: 4: User
    section Usage
      Write first post: 5: User
      Add images: 4: User
      Customize theme: 3: User
      Share blog: 5: User
```

## C4 Architecture Diagrams

### System Context Diagram

This shows our blog template in the context of its environment:

```mermaid
graph TB
    User[👤 Blog Users] --> Blog[Next.js Blog Template]
    Developer[👨‍💻 Developers] --> Blog
    
    Blog --> Cloudflare[☁️ Cloudflare Workers]
    Blog --> GitHub[📦 GitHub Repository]
    Blog --> CDN[🌍 Global CDN]
    
    subgraph "External Systems"
        Cloudflare
        GitHub
        CDN
    end
    
    subgraph "Next.js Blog Template"
        NextJS[Next.js 15 App]
        MDX[MDX Content]
        MUI[Material-UI]
        Mermaid[Mermaid Diagrams]
    end
    
    style Blog fill:#e1f5fe
    style Cloudflare fill:#fff3e0
    style GitHub fill:#f3e5f5
    style NextJS fill:#e8f5e8
    style MDX fill:#fff8e1
    style MUI fill:#fce4ec
    style Mermaid fill:#e8eaf6
```

**Code for this diagram:**
````markdown
```mermaid
graph TB
    User[👤 Blog Users] --> Blog[Next.js Blog Template]
    Developer[👨‍💻 Developers] --> Blog
    
    Blog --> Cloudflare[☁️ Cloudflare Workers]
    Blog --> GitHub[📦 GitHub Repository]
    Blog --> CDN[🌍 Global CDN]
    
    subgraph "External Systems"
        Cloudflare
        GitHub
        CDN
    end
    
    subgraph "Next.js Blog Template"
        NextJS[Next.js 15 App]
        MDX[MDX Content]
        MUI[Material-UI]
        Mermaid[Mermaid Diagrams]
    end
    
    style Blog fill:#e1f5fe
    style Cloudflare fill:#fff3e0
    style GitHub fill:#f3e5f5
    style NextJS fill:#e8f5e8
    style MDX fill:#fff8e1
    style MUI fill:#fce4ec
    style Mermaid fill:#e8eaf6
```
````

### Container Diagram

This shows the main containers within our blog system:

```mermaid
graph TB
    User[👤 User] --> WebApp[🌐 Next.js Web App]
    
    subgraph "Blog Template System"
        WebApp --> StaticGen[📄 Static Site Generator]
        WebApp --> ContentSys[📁 Content Management]
        WebApp --> ThemeSys[🎨 Theme System]
        WebApp --> DiagramSys[📊 Diagram Rendering]
        
        StaticGen --> BuildProcess[🔨 Build Process]
        ContentSys --> MDXParser[📝 MDX Parser]
        ThemeSys --> MUIComponents[🧩 MUI Components]
        DiagramSys --> MermaidRenderer[🎯 Mermaid Renderer]
    end
    
    subgraph "Deployment Infrastructure"
        BuildProcess --> CloudflarePages[☁️ Cloudflare Pages]
        CloudflarePages --> GlobalCDN[🌍 Global CDN]
        GitHubActions[⚙️ GitHub Actions] --> BuildProcess
    end
    
    style WebApp fill:#e3f2fd
    style StaticGen fill:#e8f5e8
    style ContentSys fill:#fff3e0
    style ThemeSys fill:#fce4ec
    style DiagramSys fill:#e8eaf6
    style CloudflarePages fill:#e1f5fe
```

These diagrams should automatically adapt to both light and dark themes. The Mermaid component uses the current Material-UI theme to configure colors and styling.

### Features Tested:
- ✅ Flowcharts with decision nodes
- ✅ Git graphs with branches and merges
- ✅ Sequence diagrams with multiple participants
- ✅ Class diagrams with relationships
- ✅ Pie charts with data visualization
- ✅ State diagrams with transitions
- ✅ Journey maps with emotional states
- ✅ Theme-aware rendering (light/dark mode)
- ✅ Responsive design for mobile devices

## Code Example

For comparison, here's regular code syntax highlighting:

```javascript
// Regular code block (not Mermaid)
function generateMermaidId() {
  return `mermaid-${Math.random().toString(36).substr(2, 9)}`;
}

console.log('This should be syntax highlighted, not rendered as a diagram');
```

And here's some TypeScript:

```typescript
interface MermaidProps {
  chart: string;
  id?: string;
}

const MermaidComponent: React.FC<MermaidProps> = ({ chart, id }) => {
  // Component implementation
  return <div>Mermaid diagram here</div>;
};
```

## Mermaid Resources and Documentation

### Official Documentation
- **Main Documentation**: [mermaid.js.org](https://mermaid.js.org/)
- **Live Editor**: [mermaid.live](https://mermaid.live/) - Test your diagrams online
- **Syntax Reference**: [Flowchart Syntax](https://mermaid.js.org/syntax/flowchart.html)
- **All Diagram Types**: [Diagram Syntax](https://mermaid.js.org/syntax/examples.html)

### Quick Reference
- **Flowcharts**: `flowchart TD` or `graph TB`
- **Sequence Diagrams**: `sequenceDiagram`
- **Class Diagrams**: `classDiagram`
- **State Diagrams**: `stateDiagram-v2`
- **Git Graphs**: `gitGraph`
- **Pie Charts**: `pie title "Chart Title"`
- **Journey Maps**: `journey`

### Tips for Better Diagrams
1. **Test First**: Always test complex diagrams in [mermaid.live](https://mermaid.live/)
2. **Keep It Simple**: Don't overcrowd diagrams with too many elements
3. **Use Colors**: Add `style` commands for better visual hierarchy
4. **Mobile Friendly**: Consider how diagrams look on small screens
5. **Meaningful Labels**: Use descriptive text for nodes and connections

## How to Use Mermaid in Your Blog Posts

### Step 1: Write Your Diagram
Create your diagram using Mermaid syntax in a code block:

````markdown
```mermaid
flowchart LR
    A[Write Post] --> B[Add Diagram]
    B --> C[Test in mermaid.live]
    C --> D[Publish]
```
````

### Step 2: Test Online
Before publishing, test your diagram at [mermaid.live](https://mermaid.live/) to ensure it renders correctly.

### Step 3: Add to Your Post
Simply paste the code block into your `.mdx` file and it will automatically render as a visual diagram.

### Common Use Cases
- **Process Flows**: Show step-by-step processes
- **System Architecture**: Visualize component relationships  
- **User Journeys**: Map user experience flows
- **Decision Trees**: Show decision-making processes
- **Git Workflows**: Illustrate branching strategies
- **Data Flows**: Show how data moves through systems

## Conclusion

If you can see properly rendered diagrams above (not just code blocks), then Mermaid integration is working correctly! The diagrams should:

1. **Render as visual diagrams** instead of code blocks
2. **Adapt to the current theme** (light/dark mode)
3. **Be responsive** and work on mobile devices
4. **Handle errors gracefully** if there are syntax issues

This enables us to create rich, visual documentation and blog posts with flowcharts, architecture diagrams, and process flows directly in Markdown.
