{"content":"# Developer Guide: Contributing to and Extending Your Next.js Blog\n\nThis developer guide provides comprehensive information for developers who want to contribute to, extend, or maintain the Next.js blog. Whether you're adding new features, fixing bugs, or customizing the application, this guide will help you understand the codebase and development workflow.\n\n## Prerequisites\n\n### Required Knowledge\n- **React**: Understanding of React components and hooks\n- **TypeScript**: Basic TypeScript knowledge\n- **Next.js**: Familiarity with Next.js 15 and App Router\n- **Git**: Version control with Git and GitHub\n\n### Development Environment\n- **Node.js**: Version 18 or higher\n- **npm**: Package manager\n- **Code Editor**: VS Code, Cursor, or similar\n- **Git**: Version control system\n\n## Project Setup\n\n### Initial Setup\n```bash\n# Clone the repository\ngit clone <your-repo-url>\ncd next-blog\n\n# Install dependencies\nnpm install\n\n# Start development server\nnpm run dev\n```\n\n### Available Scripts\n```bash\nnpm run dev          # Start development server\nnpm run build        # Build for production\nnpm run start        # Start production server\nnpm run lint         # Run ESLint\nnpm run type-check   # Run TypeScript type checking\nnpm run ci:build     # Build for Cloudflare deployment\n```\n\n## Codebase Structure\n\n### Directory Organization\n```\nsrc/\n├── app/              # Next.js App Router pages\n├── components/       # Reusable UI components\n├── content/          # Blog content (MDX files)\n├── lib/              # Utility functions and data layer\n└── types/            # TypeScript type definitions\n```\n\n### Key Files\n- **`src/app/layout.tsx`**: Root layout with theme and error boundary\n- **`src/lib/posts.ts`**: Data layer for blog posts\n- **`src/types/index.ts`**: TypeScript interfaces\n- **`next.config.ts`**: Next.js configuration\n- **`wrangler.jsonc`**: Cloudflare deployment configuration\n\n## Development Workflow\n\n### 1. Feature Development\n```bash\n# Create a new branch\ngit checkout -b feature/new-feature\n\n# Make your changes\n# Test locally with npm run dev\n\n# Commit your changes\ngit add .\ngit commit -m \"feat: add new feature\"\n\n# Push to remote\ngit push origin feature/new-feature\n```\n\n### 2. Code Quality\nBefore submitting changes:\n```bash\n# Run type checking\nnpm run type-check\n\n# Run linting\nnpm run lint\n\n# Build the project\nnpm run build\n```\n\n### 3. Testing\n- **Manual Testing**: Test all affected functionality\n- **Cross-Browser Testing**: Test in Chrome, Firefox, Safari, Edge\n- **Mobile Testing**: Test on mobile devices\n- **Accessibility Testing**: Ensure WCAG compliance\n\n## Component Development\n\n### Creating New Components\n```typescript\n// src/components/NewComponent.tsx\nimport { Box, Typography } from '@mui/material';\nimport type { NewComponentProps } from '@/types';\n\nexport default function NewComponent({ title, content }: NewComponentProps) {\n  return (\n    <Box sx={{ p: 2 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        {title}\n      </Typography>\n      <Typography variant=\"body1\">\n        {content}\n      </Typography>\n    </Box>\n  );\n}\n```\n\n### Component Guidelines\n- **Single Responsibility**: Each component should have one clear purpose\n- **Props Interface**: Define clear TypeScript interfaces for props\n- **Documentation**: Add JSDoc comments for complex components\n- **Testing**: Write tests for component functionality\n\n### Adding Types\n```typescript\n// src/types/index.ts\nexport interface NewComponentProps {\n  title: string;\n  content: string;\n  optional?: boolean;\n}\n```\n\n## Content Management\n\n### Adding New Posts\n1. **Create MDX File**: Add new file in `src/content/posts/`\n2. **Add Frontmatter**: Include required metadata\n3. **Write Content**: Use markdown with optional React components\n4. **Test**: Verify the post displays correctly\n\n### Frontmatter Structure\n```markdown\n---\ntitle: \"Your Post Title\"\ndate: \"YYYY-MM-DD\"\nexcerpt: \"Brief description of your post\"\n---\n```\n\n### Content Guidelines\n- **Clear Titles**: Descriptive, SEO-friendly titles\n- **Good Excerpts**: Compelling summaries (1-2 sentences)\n- **Proper Formatting**: Use markdown formatting consistently\n- **Images**: Include alt text for accessibility\n\n## Data Layer Development\n\n### Extending the Data Layer\n```typescript\n// src/lib/posts.ts\nexport function getPostsByCategory(category: string): Post[] {\n  const allPosts = getAllPosts();\n  return allPosts.filter(post => post.category === category);\n}\n\nexport function searchPosts(query: string): Post[] {\n  const allPosts = getAllPosts();\n  return allPosts.filter(post =>\n    post.title.toLowerCase().includes(query.toLowerCase()) ||\n    post.content.toLowerCase().includes(query.toLowerCase())\n  );\n}\n```\n\n### Data Layer Guidelines\n- **Error Handling**: Always handle potential errors\n- **Type Safety**: Use TypeScript interfaces\n- **Performance**: Optimize for large datasets\n- **Documentation**: Document complex functions\n\n## Styling and Theming\n\n### Material-UI Customization\n```typescript\n// src/lib/theme.ts\nexport const theme = createTheme({\n  palette: {\n    primary: {\n      main: '#1976d2',\n      light: '#42a5f5',\n      dark: '#1565c0',\n    },\n    secondary: {\n      main: '#dc004e',\n    },\n  },\n  typography: {\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      'sans-serif',\n    ].join(','),\n  },\n  components: {\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          textTransform: 'none',\n        },\n      },\n    },\n  },\n});\n```\n\n### Styling Guidelines\n- **Theme Variables**: Use theme variables for consistency\n- **Responsive Design**: Mobile-first approach\n- **Accessibility**: Ensure sufficient color contrast\n- **Performance**: Avoid expensive CSS operations\n\n## Adding New Features\n\n### 1. Search Functionality\n```typescript\n// src/components/Search.tsx\nimport { useState } from 'react';\nimport { TextField, Box } from '@mui/material';\nimport { searchPosts } from '@/lib/posts';\n\nexport default function Search() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n\n  const handleSearch = (value: string) => {\n    setQuery(value);\n    const searchResults = searchPosts(value);\n    setResults(searchResults);\n  };\n\n  return (\n    <Box>\n      <TextField\n        value={query}\n        onChange={(e) => handleSearch(e.target.value)}\n        placeholder=\"Search posts...\"\n        fullWidth\n      />\n      {/* Display results */}\n    </Box>\n  );\n}\n```\n\n### 2. Image Optimization\n```typescript\n// src/components/OptimizedImage.tsx\nimport Image from 'next/image';\n\ninterface OptimizedImageProps {\n  src: string;\n  alt: string;\n  width: number;\n  height: number;\n}\n\nexport default function OptimizedImage({ src, alt, width, height }: OptimizedImageProps) {\n  return (\n    <Image\n      src={src}\n      alt={alt}\n      width={width}\n      height={height}\n      placeholder=\"blur\"\n      blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=\"\n    />\n  );\n}\n```\n\n### 3. Custom Pages\n```typescript\n// src/app/about/page.tsx\nimport { Container, Typography, Box } from '@mui/material';\nimport Navigation from '@/components/Navigation';\n\nexport default function AboutPage() {\n  return (\n    <Box sx={{ minHeight: '100vh', display: 'flex', flexDirection: 'column' }}>\n      <Navigation title=\"About\" showHome={true} showBack={false} />\n      <Container maxWidth=\"md\" sx={{ flex: 1, py: 4 }}>\n        <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n          About Us\n        </Typography>\n        <Typography variant=\"body1\">\n          Your about page content here...\n        </Typography>\n      </Container>\n    </Box>\n  );\n}\n```\n\n## Testing\n\n### Component Testing\n```typescript\n// __tests__/components/PostCard.test.tsx\nimport { render, screen } from '@testing-library/react';\nimport PostCard from '@/components/PostCard';\n\nconst mockPost = {\n  id: 'test-post',\n  title: 'Test Post',\n  excerpt: 'Test excerpt',\n  date: '2024-01-25',\n  slug: 'test-post',\n  content: 'Test content',\n};\n\ndescribe('PostCard', () => {\n  it('renders post title and excerpt', () => {\n    render(<PostCard post={mockPost} />);\n\n    expect(screen.getByText('Test Post')).toBeInTheDocument();\n    expect(screen.getByText('Test excerpt')).toBeInTheDocument();\n  });\n});\n```\n\n### Testing Guidelines\n- **Unit Tests**: Test individual components\n- **Integration Tests**: Test component interactions\n- **Accessibility Tests**: Ensure WCAG compliance\n- **Performance Tests**: Monitor bundle size and loading times\n\n## Performance Optimization\n\n### Bundle Analysis\n```bash\n# Analyze bundle size\nnpm run build\n# Check the .next/analyze directory for bundle analysis\n```\n\n### Optimization Techniques\n- **Code Splitting**: Use dynamic imports for large components\n- **Image Optimization**: Use Next.js Image component\n- **Tree Shaking**: Remove unused code\n- **Caching**: Implement proper caching strategies\n\n### Performance Monitoring\n```typescript\n// src/lib/performance.ts\nexport function measurePerformance(name: string, fn: () => void) {\n  const start = performance.now();\n  fn();\n  const end = performance.now();\n  console.log(`${name} took ${end - start} milliseconds`);\n}\n```\n\n## Deployment\n\n### Local Testing\n```bash\n# Build for production\nnpm run build\n\n# Test production build\nnpm run start\n```\n\n### Cloudflare Deployment\n```bash\n# Build for Cloudflare\nnpm run ci:build\n\n# Deploy to Cloudflare Pages\nnpm run deploy\n```\n\n### Deployment Checklist\n- [ ] All tests pass\n- [ ] Build completes successfully\n- [ ] No console errors\n- [ ] Performance metrics are acceptable\n- [ ] Accessibility requirements met\n\n## Contributing Guidelines\n\n### Code Style\n- **TypeScript**: Use strict TypeScript configuration\n- **ESLint**: Follow ESLint rules\n- **Prettier**: Use consistent formatting\n- **Comments**: Add comments for complex logic\n\n### Git Workflow\n- **Branch Naming**: Use descriptive branch names\n- **Commit Messages**: Use conventional commit format\n- **Pull Requests**: Create PRs for all changes\n- **Code Review**: Request reviews from team members\n\n### Documentation\n- **README**: Update README for new features\n- **Comments**: Add JSDoc comments for functions\n- **Architecture**: Update architecture documentation\n- **User Guide**: Update user documentation\n\n## Troubleshooting\n\n### Common Issues\n\n#### Build Errors\n```bash\n# Clear Next.js cache\nrm -rf .next\nnpm run build\n```\n\n#### TypeScript Errors\n```bash\n# Check TypeScript configuration\nnpx tsc --noEmit\n```\n\n#### Dependency Issues\n```bash\n# Clear npm cache\nnpm cache clean --force\nrm -rf node_modules package-lock.json\nnpm install\n```\n\n#### Development Server Issues\n```bash\n# Kill all Node processes\npkill -f \"next dev\"\nnpm run dev\n```\n\n### Debugging\n- **Console Logs**: Use console.log for debugging\n- **React DevTools**: Use browser dev tools\n- **Network Tab**: Check for failed requests\n- **Performance Tab**: Monitor performance issues\n\n## Resources\n\n### Documentation\n- [Next.js Documentation](https://nextjs.org/docs)\n- [Material-UI Documentation](https://mui.com/)\n- [TypeScript Handbook](https://www.typescriptlang.org/docs/)\n- [React Documentation](https://react.dev/)\n\n### Tools\n- [ESLint](https://eslint.org/)\n- [Prettier](https://prettier.io/)\n- [React DevTools](https://react.dev/learn/react-developer-tools)\n- [Lighthouse](https://developers.google.com/web/tools/lighthouse)\n\n### Community\n- [Next.js GitHub](https://github.com/vercel/next.js)\n- [Material-UI GitHub](https://github.com/mui/material-ui)\n- [Stack Overflow](https://stackoverflow.com/questions/tagged/next.js)\n\n## Conclusion\n\nThis developer guide provides a comprehensive overview of how to contribute to and extend your Next.js blog. By following these guidelines, you can maintain code quality, add new features safely, and ensure the application continues to meet high standards of performance and accessibility.\n\nRemember to:\n- Follow the established coding principles\n- Test thoroughly before deploying\n- Document your changes\n- Consider the impact on performance and accessibility\n- Collaborate with the team through code reviews\n\nThe modular architecture and clear separation of concerns make it easy to add new features while maintaining the overall quality and performance of the application.\n\n---\n\nHappy coding! Your contributions help make the blog better for everyone."}